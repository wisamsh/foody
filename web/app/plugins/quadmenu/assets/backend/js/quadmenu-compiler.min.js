(function(c){if(!window.console){console={}}console.log=console.log||function(d,e){};console.error=console.error||function(d){};function a(e,h,f){var g=c.Deferred();g.resolve();var d=[];c.each(e,function(l,k){var j=new b({modifyVars:h,lessPath:k,action:f,id:l,});c.when(g).then(function(){setTimeout(function(){j.invoke()},200)});g=j;d.push(g)});return d}function b(d){this.options=d;this.deferred=c.Deferred()}b.prototype.invoke=function(){var d=this;less.options.env=quadmenu.debug?"development":"production";less.options.logLevel=0;less.options.useFileCache=true;return less.render('@import "'+d.options.lessPath+'";',d.options).then(function(e){d.trigger(e,d.options.action,d.options.id);d.deferred.resolve()},function(e){console.log(e);d.deferred.resolve()})};b.prototype.trigger=function(d,e,f){if(typeof(e)=="undefined"){console.log("Undefined action")}c(document).trigger("quadmenu_compiler_"+e,[d,f])};b.prototype.promise=function(){return this.deferred.promise()};c(document).on("quadmenu_compiler_end",function(g,f){var d=c("#redux-compiler-hook");if(!d.length){return}c("#redux-compiler-hook").val(0)});c(document).on("quadmenu_compiler_error",function(f,d){alert(d)});c(document).on("quadmenu_compiler_success",function(i,h){var f=c(document.getElementById("redux_notification_bar")),d=c(".quadmenu-admin-compiler-alert"),g=d.find('input[name="quadmenu_compiler"]');d.addClass("hidden");g.attr("disabled",true).removeClass("button-critical").addClass("delete");f.append(h).find(".saved_notice").delay(4000).slideUp()});c(document).on("quadmenu_compiler_change",function(f,d,g){c("style#quadmenu_customizer_"+g,"head").remove();c("head").append('<style id="quadmenu_customizer_'+g+'">'+d.css+"</style>");console.log("Append CSS")});c(document).on("quadmenu_compiler_save",function(f,d,g){c.ajax({type:"POST",dataType:"json",url:ajaxurl,data:{action:"quadmenu_compiler_save",output:d,nonce:quadmenu.nonce,},success:function(e){c(document).delay(4000).trigger("quadmenu_compiler_success",[e.notification_bar]);console.log("Compiled ["+d.imports[0]+"]")},error:function(e){console.log(e);c(document).delay(4000).trigger("quadmenu_compiler_error",e.responseText)},complete:function(i,e,h){}})});c(document).on("quadmenu_compiler_files",function(i,d,m,g){var j=c(this),l=c("#redux_ajax_overlay"),f=c(".redux-action_bar input"),h=c(".redux-action_bar .spinner");if(l.length){l.fadeIn()}if(h.length){h.addClass("is-active")}console.log("Starting compiler!");var k=a(d,m,g);c.when.apply(c,k).done(function(){if(l.length){l.fadeOut()}if(h.length){h.removeClass("is-active")}if(f.length){f.removeAttr("disabled")}j.trigger("quadmenu_compiler_end");console.log("Ending compiler!")})});c(document).on("ajaxSuccess.redux_save",function(j,k,i){var g=c("#redux-compiler-hook");if(!g.length){return}var h=g.val(),d=c.parseJSON(k.responseText);if(h!=1){return}if(!d.variables){return}try{c(this).trigger("quadmenu_compiler_files",[quadmenu.files,d.variables,"save"])}catch(f){alert("Not JSON")}});c(window).on("load",function(){if(typeof(quadmenu)=="undefined"){return}if(quadmenu.compiler!=1){return}if(!quadmenu.variables){return}if(!quadmenu.files){return}console.log(quadmenu);c(document).trigger("quadmenu_compiler_files",[quadmenu.files,quadmenu.variables,"save"])});c(document).on("ready",function(d){});c(document).on("quadmenu_customizer_save",function(d){if(typeof(quadmenu)=="undefined"){return}if(!quadmenu.variables){return}if(!quadmenu.files){return}c(this).trigger("quadmenu_compiler_files",[quadmenu.files,quadmenu.variables,"save"])})})(jQuery);